(window["webpackJsonposhiire-shoppage"]=window["webpackJsonposhiire-shoppage"]||[]).push([[0],{137:function(e,t,a){e.exports=a.p+"static/media/logo.e4469108.svg"},148:function(e,t,a){e.exports=a(316)},245:function(e,t,a){},247:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);a(149);var n=a(0),r=a.n(n),o=a(135),i=a.n(o),s=a(145),c=a(26),l=a(50),d=a(51),m=a(52),p=a(60),u=a(54),h=a(59),v=new(a(136).LogglyTracker);v.push({logglyKey:"8e77386d-0185-4098-a8ca-862fa8adb5ca"});var f=v;function g(e,t){var a=t.availability,n=t.unitTypes,r=window.can_apply_unit_count_greater_or_equal_to,o=[],i=window.shop_additional_info.find(function(t){return t.shopId===e});return n.forEach(function(e){var t=a[e.id];if(void 0!==t&&t.total>0){var n=t.available>=r,s=e.subtitle.ja,c=i.unitTypes.find(function(e){return e.unitType===s}),l=99999;void 0!==c&&void 0!==c.sort&&(l=c.sort),o.push({canApply:n,id:e.id,unitType:e.subtitle.ja,size:e.title.ja,price:e.price,priceDisp:e.price.toLocaleString(),sort:l,otherInfo:c})}}),{shopName:t.title.ja,imageUrl:t.image,address:t.address.ja,phone:t.phone,lat:t.lat,lng:t.lng,info:t.info.ja,unitTypeList:o}}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(e,t){var a={};if(void 0!==e&&void 0!==e.message&&(a=b({},a,{error_message:e.message})),void 0!==t&&void 0!==t.componentStack){var n=String(t.componentStack).replace(new RegExp("\n","g"),"");console.log(n),a=b({},a,{componentStack:n})}!function(t){try{f.push({logBody:t,git_hash:window.git_hash,widget:"store"})}catch(e){console.log(e)}}(a)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("Inside error",e),{hasError:!0}}}]),t}(n.Component),w=(a(245),a(32)),_=a.n(w),O=a(55),j=a(53),N=(a(247),a(77)),k=a.n(N),x=a(56),P=a.n(x),S=a(137),D=a.n(S);function I(){return r.a.createElement("header",{className:"header clearfix",id:"pagetop"},r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:D.a,alt:"\u30c8\u30e9\u30f3\u30af\u30eb\u30fc\u30e0\u306e\u62bc\u5165\u308c\u7523\u696d",style:{height:"35px"}})))))))}var C=a(318);function T(e){var t=this,a=e.unitTypeList,n=e.entryClickHandler;return void 0!==a&&a.sort(function(e,t){return e.sort-t.sort}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"price"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"price_type"},"\u30bf\u30a4\u30d7"),r.a.createElement("th",{className:"price_number"},"\u7573\u6570"),r.a.createElement("th",{className:"price_size"},"\u5e45\xd7\u5965\u884c\xd7\u9ad8\u3055(cm)"),r.a.createElement("th",{className:"price_official"},"\u6b63\u898f\u6599\u91d1"),r.a.createElement("th",{className:"price_campaign"},"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u6599\u91d1"),r.a.createElement("th",{className:"price_initial"},"\u521d\u671f\u8cbb\u7528"),r.a.createElement("th",{className:"price_remarks"},"\u5099\u8003"),r.a.createElement("th",{className:"price_order"},"\u304a\u7533\u3057\u8fbc\u307f"))),r.a.createElement("tbody",{id:"price_table"},void 0!==a&&a.map(function(e){var a,o,i,s;return void 0!==e.otherInfo&&(a="".concat(e.otherInfo.width,"\xd7").concat(e.otherInfo.depth,"\xd7").concat(e.otherInfo.height),o=e.otherInfo.initFee.toLocaleString(),s=e.otherInfo.discountPrice,i=e.otherInfo.note),r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"price_type"},e.unitType),r.a.createElement("td",{className:"price_number"},e.size),r.a.createElement("td",{className:"price_size click"},a),r.a.createElement("td",{className:"price_official"},e.priceDisp," \u5186"),r.a.createElement("td",{className:"price_campaign text-danger"},r.a.createElement("strong",null,s)),r.a.createElement("td",{className:"price_initial click"},o," \u5186"),r.a.createElement("td",{className:"price_remarks acc_txt click"},i),r.a.createElement("td",{className:"price_order"},!0===e.canApply?r.a.createElement(C.a,{onClick:n.bind(t,e.id),className:"btn btn-success",style:{width:"120px"}},"\u304a\u7533\u3057\u8fbc\u307f"):r.a.createElement(C.a,{className:"btn btn-secondary",style:{width:"120px"},disabled:!0},r.a.createElement("span",{className:"button-text"},"\u3054\u5229\u7528\u4e2d"))))})))),r.a.createElement("p",{className:"text-left"},r.a.createElement("small",null,r.a.createElement("strong",null,"\uff08\u203b\u6b63\u898f\u6599\u91d1\u306f\u7a0e\u629c\u4fa1\u683c\u3001\u521d\u671f\u8cbb\u7528\u306f\u7a0e\u8fbc\u4fa1\u683c\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\uff09"))))}var F=a(79),L=a.n(F);function A(e){var t,a,n,o=e.shopInfo;return void 0!==o&&(a=o.phone,void 0!==o.address&&(t=o.address.split("\n")),void 0!==o.info&&(n=o.info.split("\n"))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u4f4f\u6240"),r.a.createElement("td",{className:"text-left"},void 0!==t?t.map(function(e){return r.a.createElement("div",{key:L()()},e)}):"")),r.a.createElement("tr",null,r.a.createElement("th",null,"TEL"),r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},void 0!==n?n.map(function(e){return r.a.createElement("div",{key:L()()},e,"\xa0")}):""))))}function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function B(e){return U.apply(this,arguments)}function U(){return(U=Object(O.a)(_.a.mark(function e(t){var a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===window.terms_and_conditions_base_url?"":window.terms_and_conditions_base_url,e.prev=1,e.next=4,P()({method:"get",url:"".concat(n,"/setting.json?v=").concat(Date.now()),headers:{"Content-Type":"application/json"}});case 4:r=e.sent,a=r.data.overall,void 0!==r.data[t]&&(a=z({},a,{},r.data[t])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("GetTermsAndConditionsUrls Error",e.t0),f.push({method:"GetTermsAndConditionsUrls",error:e.t0,otherInfo:{shopId:t}});case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}var q=a(143),G=a(144),J=(a(312),a(313),function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).entryClickHandler=e.entryClickHandler.bind(Object(j.a)(e)),e.state={shopId:void 0,loadDataFailed:!1,missingParameter:!1,shopInfo:void 0,shop404:void 0,loading:!1,termsAndConditions:void 0},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"entryClickHandler",value:function(e){var t=k.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).shopid;window.parent.location.href="/entry/index.html?shopid=".concat(t,"&unittypeid=").concat(e)}},{key:"componentDidMount",value:function(){var e=Object(O.a)(_.a.mark(function e(){var t,a,n,r,o,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=k.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).shopid)&&""!==t.trim()){e.next=6;break}return this.setState({missingParameter:!0}),e.abrupt("return");case 6:this.setState({missingParameter:!1});case 7:return this.setState({loading:!0}),e.prev=8,e.next=11,B(t);case 11:return a=e.sent,this.setState({termsAndConditions:a}),n="".concat(window.storeganise_api_url,"/v1/settings"),e.next=16,P.a.get(n,{headers:{Accept:"application/json, text/plain, */*"}});case 16:r=e.sent,this.setState({loadDataFailed:!1}),void 0===(o=r.data.sites.find(function(e){return e.id===t}))?this.setState({shop404:!0,loading:!1}):(i=g(t,o),document.title="\u62bc\u5165\u308c\u7523\u696d - ".concat(i.shopName),this.setState({shopInfo:i,loading:!1})),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(8),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config),this.setState({loadDataFailed:!0,loading:!1});case 27:case"end":return e.stop()}},e,this,[[8,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n=this.state.shopInfo;void 0!==n&&(a=n.shopName,e=n.imageUrl,t=n.unitTypeList),console.log(this.state.shop4043.split(" "));var o="",i=this.state.termsAndConditions;return void 0!==i&&(o=void 0===i.oshiire_tokuteishou?"":i.oshiire_tokuteishou),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(q.a,{blocking:this.state.loading,loader:r.a.createElement(G.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"})},r.a.createElement("article",{className:"service"},r.a.createElement("section",{className:"contents"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"errors",className:"row"},r.a.createElement("div",{className:"col-md-12 validation-error"},!0===this.state.loadDataFailed&&r.a.createElement("div",null,"Failed to load unit types data, please try it again later."),!0===this.state.missingParameter&&r.a.createElement("div",null,"Missing parameter, please contact the administrator."),!0===this.state.shop404&&r.a.createElement("div",null,"Shop page does not exist."))),!0!==this.state.loadDataFailed&&!0!==this.state.missingParameter&&!0!==this.state.shop404&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{id:"shop_banner"},r.a.createElement("div",null,a))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{style:{paddingBottom:"5px"}},void 0!==e&&r.a.createElement("img",{src:e,alt:"shop",style:{width:"100%"}}),void 0===e&&r.a.createElement("div",{style:{height:"350px"}},"\xa0"))),r.a.createElement("div",{className:"col-sm-6 info"},r.a.createElement(A,{shopInfo:n})),r.a.createElement("div",{className:"col-md-12 col-xs-12"},r.a.createElement(T,{unitTypeList:t,entryClickHandler:this.entryClickHandler})),r.a.createElement("div",{className:"col-md-12 col-xs-12 terms-and-agreements"},r.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"\u7279\u5b9a\u5546\u53d6\u5f15\u6cd5"))))))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=r.a.createElement(y,null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{exact:!0,path:"/store/index.html",component:J}))));i.a.render(M,document.getElementById("shop_page_root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[148,1,2]]]);
//# sourceMappingURL=main.45208caf.chunk.js.map