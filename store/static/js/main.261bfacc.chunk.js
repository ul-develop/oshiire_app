(window["webpackJsonposhiire-shoppage"]=window["webpackJsonposhiire-shoppage"]||[]).push([[0],{137:function(e,t,a){e.exports=a.p+"static/media/logo.7ec90f64.svg"},148:function(e,t,a){e.exports=a(316)},245:function(e,t,a){},247:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);a(149);var r=a(0),n=a.n(r),o=a(135),i=a.n(o),s=a(145),c=a(26),l=a(32),d=a(51),p=a(52),m=a(59),u=a(54),h=a(60),f=new(a(136).LogglyTracker);f.push({logglyKey:"8e77386d-0185-4098-a8ca-862fa8adb5ca"});var v=f;function g(e){try{v.push({logBody:e,git_hash:window.git_hash,widget:"store",user_agent:navigator.userAgent})}catch(t){console.log(t)}}function b(e,t){var a=t.availability,r=t.unitTypes,n=window.can_apply_unit_count_greater_or_equal_to,o=[],i=window.shop_additional_info.find(function(t){return t.shopId===e});return r.forEach(function(e){var t=a[e.id];if(void 0!==t&&t.total>0){var r=t.available>=n,s=e.subtitle.ja,c=i.unitTypes.find(function(e){return e.unitType===s}),l=99999;void 0!==c&&void 0!==c.sort&&(l=c.sort),o.push({canApply:r,id:e.id,unitType:e.subtitle.ja,size:e.title.ja,price:e.price,priceDisp:e.price.toLocaleString(),sort:l,otherInfo:c})}}),{shopName:t.title.ja,imageUrl:t.image,address:t.address.ja,phone:t.phone,lat:t.lat,lng:t.lng,info:t.info.ja,unitTypeList:o}}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidCatch",value:function(e,t){var a={};void 0!==e&&void 0!==e.message&&(a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{error_message:e.message,error_source:String(e)})),g(a)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("h1",null,"System error. Please contact system administrator."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("Inside error",e),{hasError:!0}}}]),t}(r.Component),O=(a(245),a(33)),w=a.n(O),_=a(55),j=a(53),N=(a(247),a(77)),k=a.n(N),P=a(56),x=a.n(P),D=a(137),S=a.n(D);function I(){return n.a.createElement("header",{className:"header clearfix",id:"pagetop"},n.a.createElement("nav",{className:"navbar navbar-default"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"navbar-header"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement("a",{href:"/"},n.a.createElement("img",{src:S.a,alt:"\u30c8\u30e9\u30f3\u30af\u30eb\u30fc\u30e0\u306e\u62bc\u5165\u308c\u7523\u696d",style:{height:"35px"}})))))))}var C=a(318);function T(e){var t=this,a=e.unitTypeList,r=e.entryClickHandler;return void 0!==a&&a.sort(function(e,t){return e.sort-t.sort}),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"price"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"price_type"},"\u30bf\u30a4\u30d7"),n.a.createElement("th",{className:"price_number"},"\u7573\u6570"),n.a.createElement("th",{className:"price_size"},"\u5e45\xd7\u5965\u884c\xd7\u9ad8\u3055(cm)"),n.a.createElement("th",{className:"price_official"},"\u6b63\u898f\u6599\u91d1"),n.a.createElement("th",{className:"price_campaign"},"\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u6599\u91d1"),n.a.createElement("th",{className:"price_initial"},"\u521d\u671f\u8cbb\u7528"),n.a.createElement("th",{className:"price_remarks"},"\u5099\u8003"),n.a.createElement("th",{className:"price_order"},"\u304a\u7533\u3057\u8fbc\u307f"))),n.a.createElement("tbody",{id:"price_table"},void 0!==a&&a.map(function(e){var a,o,i,s;return void 0!==e.otherInfo&&(a="".concat(e.otherInfo.width,"\xd7").concat(e.otherInfo.depth,"\xd7").concat(e.otherInfo.height),o=e.otherInfo.initFee.toLocaleString(),s=e.otherInfo.discountPrice,i=e.otherInfo.note),n.a.createElement("tr",{key:e.id},n.a.createElement("td",{className:"price_type"},e.unitType),n.a.createElement("td",{className:"price_number"},e.size),n.a.createElement("td",{className:"price_size click"},a),n.a.createElement("td",{className:"price_official"},e.priceDisp," \u5186"),n.a.createElement("td",{className:"price_campaign text-danger"},n.a.createElement("strong",null,s)),n.a.createElement("td",{className:"price_initial click"},o," \u5186"),n.a.createElement("td",{className:"price_remarks acc_txt click"},i),n.a.createElement("td",{className:"price_order"},!0===e.canApply?n.a.createElement(C.a,{onClick:r.bind(t,e.id),className:"btn btn-success",style:{width:"120px"}},"\u304a\u7533\u3057\u8fbc\u307f"):n.a.createElement(C.a,{className:"btn btn-secondary",style:{width:"120px"},disabled:!0},n.a.createElement("span",{className:"button-text"},"\u3054\u5229\u7528\u4e2d"))))})))),n.a.createElement("p",{className:"text-left"},n.a.createElement("small",null,n.a.createElement("strong",null,"\uff08\u203b\u6b63\u898f\u6599\u91d1\u306f\u7a0e\u629c\u4fa1\u683c\u3001\u521d\u671f\u8cbb\u7528\u306f\u7a0e\u8fbc\u4fa1\u683c\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\uff09"))))}var F=a(79),L=a.n(F);function A(e){var t,a,r,o=e.shopInfo;return void 0!==o&&(a=o.phone,void 0!==o.address&&(t=o.address.split("\n")),void 0!==o.info&&(r=o.info.split("\n"))),n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u4f4f\u6240"),n.a.createElement("td",{className:"text-left"},void 0!==t?t.map(function(e){return n.a.createElement("div",{key:L()()},e)}):"")),n.a.createElement("tr",null,n.a.createElement("th",null,"TEL"),n.a.createElement("td",null,a)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},void 0!==r?r.map(function(e){return n.a.createElement("div",{key:L()()},e,"\xa0")}):""))))}function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function z(e){return B.apply(this,arguments)}function B(){return(B=Object(_.a)(w.a.mark(function e(t){var a,r,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===window.terms_and_conditions_base_url?"":window.terms_and_conditions_base_url,e.prev=1,e.next=4,x()({method:"get",url:"".concat(r,"/setting.json?v=").concat(Date.now()),headers:{"Content-Type":"application/json"}});case 4:n=e.sent,a=n.data.overall,void 0!==n.data[t]&&(a=q({},a,{},n.data[t])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g({method:"GetTermsAndConditionsUrls",error:e.t0.message,shopId:t});case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}var M=a(143),U=a(144);a(312),a(313);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).entryClickHandler=e.entryClickHandler.bind(Object(j.a)(e)),e.state={shopId:void 0,loadDataFailed:!1,missingParameter:!1,shopInfo:void 0,shop404:void 0,loading:!1,termsAndConditions:void 0},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"entryClickHandler",value:function(e){var t=k.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).shopid;window.parent.location.href="/entry/index.html?shopid=".concat(t,"&unittypeid=").concat(e)}},{key:"componentDidMount",value:function(){var e=Object(_.a)(w.a.mark(function e(){var t,a,r,n,o,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=k.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).shopid)&&""!==t.trim()){e.next=6;break}return this.setState({missingParameter:!0}),e.abrupt("return");case 6:this.setState({missingParameter:!1});case 7:return this.setState({loading:!0}),e.prev=8,e.next=11,z(t);case 11:return a=e.sent,this.setState({termsAndConditions:a}),r="".concat(window.storeganise_api_url,"/v1/settings"),e.next=16,x.a.get(r,{headers:{Accept:"application/json, text/plain, */*"}});case 16:n=e.sent,this.setState({loadDataFailed:!1}),void 0===(o=n.data.sites.find(function(e){return e.id===t}))?this.setState({shop404:!0,loading:!1}):(i=b(t,o),document.title="\u62bc\u5165\u308c\u7523\u696d - ".concat(i.shopName),this.setState({shopInfo:i,loading:!1})),e.next=29;break;case 22:e.prev=22,e.t0=e.catch(8),s={shopId:t},s=e.t0.response?Q({},s,{response_data:e.t0.response.data,response_status:e.t0.response.status,response_headers:e.t0.response.headers}):e.t0.request?Q({},s,{response_request:e.t0.request}):Q({},s,{error_message:e.t0.message}),console.log(e.t0.config),this.setState({loadDataFailed:!0,loading:!1}),g({method:"ShopPage.componentDidMount",logMessage:s});case 29:case"end":return e.stop()}},e,this,[[8,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,r=this.state.shopInfo;void 0!==r&&(a=r.shopName,e=r.imageUrl,t=r.unitTypeList);var o="",i=this.state.termsAndConditions;return void 0!==i&&(o=void 0===i.oshiire_tokuteishou?"":i.oshiire_tokuteishou),n.a.createElement(n.a.Fragment,null,n.a.createElement(I,null),n.a.createElement(M.a,{blocking:this.state.loading,loader:n.a.createElement(U.Loader,{active:!0,type:"ball-pulse",color:"rgba(231,28,99,1)"})},n.a.createElement("article",{className:"service"},n.a.createElement("section",{className:"contents"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{id:"errors",className:"row"},n.a.createElement("div",{className:"col-md-12 validation-error"},!0===this.state.loadDataFailed&&n.a.createElement("div",null,"Failed to load unit types data, please try it again later."),!0===this.state.missingParameter&&n.a.createElement("div",null,"Missing parameter, please contact the administrator."),!0===this.state.shop404&&n.a.createElement("div",null,"Shop page does not exist."))),!0!==this.state.loadDataFailed&&!0!==this.state.missingParameter&&!0!==this.state.shop404&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{id:"shop_banner"},n.a.createElement("div",null,a))),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{style:{paddingBottom:"5px"}},void 0!==e&&n.a.createElement("img",{src:e,alt:"shop",style:{width:"100%"}}),void 0===e&&n.a.createElement("div",{style:{height:"350px"}},"\xa0"))),n.a.createElement("div",{className:"col-sm-6 info"},n.a.createElement(A,{shopInfo:r})),n.a.createElement("div",{className:"col-md-12 col-xs-12"},n.a.createElement(T,{unitTypeList:t,entryClickHandler:this.entryClickHandler})),n.a.createElement("div",{className:"col-md-12 col-xs-12 terms-and-agreements"},n.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"\u7279\u5b9a\u5546\u53d6\u5f15\u6cd5"))))))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n.a.createElement(y,null,n.a.createElement(s.a,null,n.a.createElement("div",null,n.a.createElement(c.a,{exact:!0,path:"/store/index.html",component:W}))));i.a.render(G,document.getElementById("shop_page_root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[148,1,2]]]);
//# sourceMappingURL=main.261bfacc.chunk.js.map